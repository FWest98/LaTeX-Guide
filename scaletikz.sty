%%
%% This is file `scaletikz.sty',
%% generated with the docstrip utility.
%%
%% The original source files were:
%%
%% scaletikz.dtx  (with options: `package')
%% 
%% This is a generated file.
%% 
%% Copyright (C) 2011 Scott Pakin <scott+fc@pakin.org>
%% -------------------------------------------------------
%% 
%% This package may be distributed and/or modified under the conditions
%% of the LaTeX Project Public License, either version 1.3c of this
%% license or (at your option) any later version.  The latest version of
%% this license is in
%% 
%%    http://www.latex-project.org/lppl.txt
%% 
%% and version 1.3c or later is part of all distributions of LaTeX
%% version 2008/05/04 or later.
%% 
\NeedsTeXFormat{LaTeX2e}[1999/12/01]
\ProvidesPackage{scaletikz}
    [2011/10/08 v1.3 Create an external file from within a LaTeX document]
\RequirePackage{pgfplots}
\RequirePackage{tikz}
\RequirePackage{tikzscale}
\RequirePackage{etoolbox}
\begingroup%
\catcode`\*=11 %
\catcode`\^^M\active%
\catcode`\^^L\active\let^^L\relax%
\catcode`\^^I\active%
\gdef\sc@letikz#1{%
  \openin\@inputcheck#1 %
  \ifeof\@inputcheck%
    \@latex@warning@no@line%
        {Writing file `\@currdir#1'}%
  \else %
    \@latex@warning@no@line%
        {Overwriting file `\@currdir#1'}%
  \fi %
  \closein\@inputcheck %
  \chardef\reserved@c15 %
  \ch@ck7\reserved@c\write%
  \immediate\openout\reserved@c#1\relax%
  \if@tempswa%
    \immediate\write\reserved@c{%
      \@percentchar\@percentchar\space%
          \expandafter\@gobble\string\LaTeX2e file `#1'^^J%
      \@percentchar\@percentchar\space  generated by the %
        `\@currenvir' \expandafter\@gobblefour\string\newenvironment^^J%
      \@percentchar\@percentchar\space from source `\jobname' on %
         \number\year/\two@digits\month/\two@digits\day.^^J%
      \@percentchar\@percentchar}%
  \fi%
  \let\do\@makeother\dospecials%
  \count0=128\relax %
  \loop %
    \catcode\count0=11\relax %
    \advance\count0 by 1\relax %
    \ifnum\count0<256 %
  \repeat %
  \edef\E{\@backslashchar end\string{\@currenvir\string}}%
  \edef\reserved@b{%
    \def\noexpand\reserved@b%
         ####1\E####2\E####3\relax}%
  \reserved@b{%
    \ifx\relax##3\relax%
      \immediate\write\reserved@c{##1}%
    \else%
      \edef^^M{\noexpand\end{\@currenvir}}%
      \ifx\relax##1\relax%
      \else%
          \@latex@warning{Writing text `##1' before %
             \string\end{\@currenvir}\MessageBreak as last line of #1}%
        \immediate\write\reserved@c{##1}%
      \fi%
      \ifx\relax##2\relax%
      \else%
         \@latex@warning{%
           Ignoring text `##2' after \string\end{\@currenvir}}%
      \fi%
    \fi%
    ^^M}%
  \catcode`\^^L\active%
  \let\L\@undefined%
  \def^^L{\@ifundefined L^^J^^J^^J}%
  \catcode`\^^I\active%
  \let\I\@undefined%
  \def^^I{\@ifundefined I\space\space}%
  \catcode`\^^M\active%
  \edef^^M##1^^M{%
    \noexpand\reserved@b##1\E\E\relax}}%
\endgroup%
\begingroup%
\newcounter{scaledtikzcounter}
\setcounter{scaledtikzcounter}{0}
\catcode`\*=11
\gdef\scaletikz {\stepcounter{scaledtikzcounter}\@tempswafalse\sc@letikz{_tikz-cache/figure\arabic{scaledtikzcounter}.tikz}}%
\gdef\endscaletikz {\endfilecontents \typeout{BLABLAMEAING \string\showscaled: \meaning\showscaled, BLA \@currenvir}}%
\gdef\showscaled {\includegraphics[width=\textwidth]{_tikz-cache/figure\arabic{scaledtikzcounter}.tikz}}%
\AfterEndEnvironment{scaletikz}{\includegraphics[width=\textwidth]{_tikz-cache/figure\arabic{scaledtikzcounter}.tikz}}
\endgroup%
\endinput
%%
%% End of file `scaletikz.sty'.
